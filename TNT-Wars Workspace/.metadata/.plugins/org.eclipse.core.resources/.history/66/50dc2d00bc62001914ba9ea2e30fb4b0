package com.rast.tntwars.systems;

import java.util.List;

import org.bukkit.Location;
import org.bukkit.Material;
import org.bukkit.World;
import org.bukkit.block.Block;

public class WorldEditor {

	// Fill a region with the given radius to a material (radius is the center block plus blocks extended from it so a 3x3x3 has a radius of 2)
	public static void fillRegion (Location location, int radius, Material material) {
		int mRad = radius-1;
		int x = location.getBlockX();
		int y = location.getBlockY();
		int z = location.getBlockZ();
		World world = location.getWorld();
		
		for (int i = x-mRad; i <= x+mRad; i++) {
			for (int j = y-mRad; j <= y+mRad; j++) {
				for (int k = z-mRad; k <= z+mRad; k++) {
					world.getBlockAt(i, j, k).setType(material);
				}
			}
		}
	}
	
	// Replace a region with the given radius from a list of materials to a material (radius is the center block plus blocks extended from it so a 3x3x3 has a radius of 2)
	// This is is slow and it may be faster to use the method replaceRegion multiple times. 
	public static void replaceRegionMultiple (Location location, int radius, List<Material> fromMaterial, Material toMaterial) {
		int mRad = radius-1;
		int x = location.getBlockX();
		int y = location.getBlockY();
		int z = location.getBlockZ();
		World world = location.getWorld();
		
		for (int i = x-mRad; i <= x+mRad; i++) {
			for (int j = y-mRad; j <= y+mRad; j++) {
				for (int k = z-mRad; k <= z+mRad; k++) {
					Block block = world.getBlockAt(i, j, k);
					if (fromMaterial.contains(block.getType())) {
						block.setType(toMaterial);
					}
				}
			}
		}
	}
	
	// Replace a region with the given radius from a material to another material (radius is the center block plus blocks extended from it so a 3x3x3 has a radius of 2)
	public static void replaceRegion (Location location, int radius, Material fromMaterial, Material toMaterial) {
		int mRad = radius-1;
		int x = location.getBlockX();
		int y = location.getBlockY();
		int z = location.getBlockZ();
		World world = location.getWorld();
		
		for (int i = x-mRad; i <= x+mRad; i++) {
			for (int j = y-mRad; j <= y+mRad; j++) {
				for (int k = z-mRad; k <= z+mRad; k++) {
					Block block = world.getBlockAt(i, j, k);
					if (fromMaterial == block.getType()) {
						block.setType(toMaterial);
					}
				}
			}
		}
	}
	
	// Same as replaceRegion but removed the loops and is has constants to make it faster
	public static void replaceTNTRegionFast (Location location, Material fromMaterial, Material toMaterial) {
		int x = location.getBlockX()-1;
		int y = location.getBlockY()-1;
		int z = location.getBlockZ()-1;
		int xa = x+1;
		int ya = y+1;
		int za = z+1;
		int xb = xa+1;
		int yb = ya+1;
		int zb = za+1;
		World world = location.getWorld();
		Block block;
		
		/*for (int i = x-mRad; i <= x+mRad; i++) {
			for (int j = y-mRad; j <= y+mRad; j++) {
				for (int k = z-mRad; k <= z+mRad; k++) {
					Block block = world.getBlockAt(i, j, k);
					if (fromMaterial == block.getType()) {
						block.setType(toMaterial);
					}
				}
			}
		}*/
		
		block = world.getBlockAt(x, y, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, y, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, y, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, ya, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, ya, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, ya, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, yb, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, yb, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, yb, z);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, y, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, y, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, y, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, ya, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, ya, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, ya, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, yb, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, yb, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, yb, za);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, y, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, y, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, y, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, ya, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, ya, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, ya, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(x, yb, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xa, yb, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
		block = world.getBlockAt(xb, yb, zb);
		if (fromMaterial == block.getType()) {
			block.setType(toMaterial);
		}
	}
	
	
}
