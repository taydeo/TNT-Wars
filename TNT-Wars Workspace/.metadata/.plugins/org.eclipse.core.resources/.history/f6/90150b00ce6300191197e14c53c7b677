package com.rast.tntwars.commands;

import java.util.ArrayList;
import java.util.List;

import org.bukkit.ChatColor;
import org.bukkit.Sound;
import org.bukkit.SoundCategory;
import org.bukkit.command.Command;
import org.bukkit.command.CommandExecutor;
import org.bukkit.command.CommandSender;
import org.bukkit.command.TabCompleter;
import org.bukkit.entity.Player;

import com.rast.tntwars.TNTWarsMain;
import com.rast.tntwars.systems.SoundPlayer;

/**
 * This class is for the /setregion command and contains the command executor and auto tab events if relevant.
 * 
 * @author Raster556
 */

public class SetRegion implements TabCompleter, CommandExecutor {

	@Override
	public boolean onCommand(CommandSender sender, Command cmd, String alias, String[] args) {
		
		// Which region do we want to save to
		switch (args[0]) {
		case "Lobby":
			
			// We want to save the lobby region
			int[][] reg = TNTWarsMain.configEngine.positionToArrays(TNTWarsMain.selectorManager.pos1, TNTWarsMain.selectorManager.pos2);
			TNTWarsMain.configEngine.saveLocation("lobby", reg);
			break;

		case "Island":
			
			/// Which region do we want to save to
			switch (args[1]) {
			case "One":
				saveIslandOne();
				break;

			case "Two":
				saveIslandTwo();
				break;
				
			default:
				sender.sendMessage(ChatColor.DARK_RED + "Invaled Island Number");
				break;
			}
			break;
			
		default:
			sender.sendMessage(ChatColor.DARK_RED + "Invaled Region Name");
			break;
		}
	
		return true;
	}

	private void saveIslandOne () {
		// We want to save the island one region
		int[][] reg = TNTWarsMain.configEngine.positionToArrays(TNTWarsMain.selectorManager.pos1, TNTWarsMain.selectorManager.pos2);
		TNTWarsMain.configEngine.saveLocation("teamOneIsland", reg);
	}
	
	private void saveIslandTwo () {
		// We want to save the island two region
		int[][] reg = TNTWarsMain.configEngine.positionToArrays(TNTWarsMain.selectorManager.pos1, TNTWarsMain.selectorManager.pos2);
		TNTWarsMain.configEngine.saveLocation("teamTwoIsland", reg);
	}
	
	// Auto Tab Event
	@Override
	public List<String> onTabComplete(CommandSender sender, Command command, String alias, String[] args) {
		
		// Set tab list
		List<String> list = new ArrayList<String>(2);
		if (args.length == 1) {
			list.add("Lobby");
			list.add("Island");
		}
		
		if (args.length == 2 && args[0] == "Lobby") {
			list.add("One");
			list.add("Two");
		}
		return list;
	}
	
}
